<!DOCTYPE HTML>
<html>
<head>
  <title>Timeline | groups | Editable Groups</title>

  <style>
    body, html {
      font-family: arial, sans-serif;
      font-size: 11pt;
    }

    #visualization {
      box-sizing: border-box;
      width: 100%;
      height: 40vh;
      position: relative;
    }

    /* .vis-group.patient { background-color: #FFFFCC; } */
    
    .vis-item.screen  { background-color: #B0E2FF; }
    .vis-item.v2      { background-color: #EAEAEA; }
    .vis-item.v3 { background-color: #FA8072; }
    .vis-item.screening-phase { background-color: #5ceb5c; }
    .vis-item.treatment-phase { background-color: #9370ed; }
    .vis-item.v5  { background-color: #FFFFCC; }
    .vis-item.window  { background-color: #c3c3be; }
    .vis-item.screening-visits  { background-color: #bceebc; }
    .vis-item.treatment-visits  { background-color: #ccbcf4; }
    .vis-item.any-day  { background-color: #95a89a; }
    .vis-item.staff  { background-color: #d0e14f; }
    .vis-item.patient  { background-color: #f90000; }
    .vis-item.actual { background-color: #000000; }
    .vis-item.actual-in-window {
      background-image: repeating-linear-gradient(
        45deg,
        black,
        black 5px,
        white 2px,
        white 7px
      );
    }
    
  </style>

<script type="text/javascript" src="https://unpkg.com/vis-timeline@latest/standalone/umd/vis-timeline-graph2d.min.js"></script>
<link href="https://unpkg.com/vis-timeline@latest/styles/vis-timeline-graph2d.min.css" rel="stylesheet" type="text/css" />
<!--    -->
</head>
<body>
<h1>
  Patient Timeline
</h1>
<div id="visualization"></div>

<script>
  var groups = new vis.DataSet([
    {"content": "<b>Phase</b>", "id": "Phase", className:'phase'},
    {"content": "Screen", "id": "Screen"},
    {"content": "V2", "id": "V2", className: 'event'},
    {"content": "V3", "id": "V3"},
    {"content": "V4", "id": "V4"},
    {"content": "V5", "id": "V5"},
    {"content": "V6", "id": "V6"},
    {"content": "Patient", "id": "Patient", className:'patient'},    
    {"content": "Staff (4)", "id": "Staff", className:'staff'},    
  ]);

  var items = new vis.DataSet([
    {start: new Date(2024, 10, 1), end: new Date(2024, 10, 6, 23, 59, 59), group:"Phase", className:"screening-phase", title: "tip...", content:"<b>Screening</b>",id:"1"},
    {start: new Date(2024, 10, 7), end: new Date(2025, 2, 2, 23, 59, 59), group:"Phase", className:"treatment-phase", title: "tip...", content:"<b>Treatment<b>",id:"2"},

    {start: new Date(2024, 10, 1), end: new Date(2024, 10, 1, 23, 59, 59), group:"Screen", className:"actual", title: "Screening visit defines day 1 for the subject", content:"&nbsp",id:"112"},
    {start: new Date(2024, 10, 2), end: new Date(2024, 10, 6, 23, 59, 59), group:"Screen", className:"window", title: "Re-Screening visit can happen within 6 days of initial screen", content:"&nbsp",id:"113"},

    {start: new Date(2024, 10, 6), end: new Date(2024, 10, 6, 23, 59, 59), group:"V2", className:"window", title: "Visit can start 1 day before", content:"&nbsp;",id:"211"},
    {start: new Date(2024, 10, 7), end: new Date(2024, 10, 7, 23, 59, 59), group:"V2", className:"treatment-visits", title: "Visit scheduled for day 7", content:"&nbsp;",id:"212"},
    {start: new Date(2024, 10, 8), end: new Date(2024, 10, 8, 23, 59, 59), group:"V2", className:"actual-in-window", title: "Visit is allow up to one day after", content:"&nbsp;",id:"213"},

    {start: new Date(2024, 10, 20), end: new Date(2024, 10, 20, 23, 59, 59), group:"V2", className:"window", title: "Visit can start 1 day before", content:"&nbsp;",id:"214"},
    {start: new Date(2024, 10, 21), end: new Date(2024, 10, 21, 23, 59, 59), group:"V2", className:"treatment-visits", title: "Visit scheduled for day 7", content:"&nbsp;",id:"215"},
    {start: new Date(2024, 10, 22), end: new Date(2024, 10, 22, 23, 59, 59), group:"V2", className:"window", title: "Visit is allow up to one day after", content:"&nbsp;",id:"216"},

    {start: new Date(2024, 11, 4), end: new Date(2024, 11, 4, 23, 59, 59), group:"V2", className:"window", title: "Visit can start 1 day before", content:"&nbsp;",id:"217"},
    {start: new Date(2024, 11, 5), end: new Date(2024, 11, 5, 23, 59, 59), group:"V2", className:"treatment-visits", title: "Visit scheduled for day 7", content:"&nbsp;",id:"218"},
    {start: new Date(2024, 11, 6), end: new Date(2024, 11, 6, 23, 59, 59), group:"V2", className:"window", title: "Visit is allow up to one day after", content:"&nbsp;",id:"219"},

    {start: new Date(2024, 11, 18), end: new Date(2024, 11, 18, 23, 59, 59), group:"V2", className:"window", title: "Visit can start 1 day before", content:"&nbsp;",id:"220"},
    {start: new Date(2024, 11, 19), end: new Date(2024, 11, 19, 23, 59, 59), group:"V2", className:"treatment-visits", title: "Visit scheduled for day 7", content:"&nbsp;",id:"221"},
    {start: new Date(2024, 11, 20), end: new Date(2024, 11, 20, 23, 59, 59), group:"V2", className:"window", title: "Visit is allow up to one day after", content:"&nbsp;",id:"222"},

    {start: new Date(2025, 0, 1), end: new Date(2025, 0, 1, 23, 59, 59), group:"V2", className:"window", title: "Visit can start 1 day before", content:"&nbsp;",id:"223"},
    {start: new Date(2025, 0, 2), end: new Date(2025, 0, 2, 23, 59, 59), group:"V2", className:"treatment-visits", title: "Visit scheduled for day 7", content:"&nbsp;",id:"224"},
    {start: new Date(2025, 0, 3), end: new Date(2025, 0, 3, 23, 59, 59), group:"V2", className:"window", title: "Visit is allow up to one day after", content:"&nbsp;",id:"225"},

    {start: new Date(2025, 0, 15), end: new Date(2025, 0, 15, 23, 59, 59), group:"V2", className:"window", title: "Visit can start 1 day before", content:"&nbsp;",id:"226"},
    {start: new Date(2025, 0, 16), end: new Date(2025, 0, 16, 23, 59, 59), group:"V2", className:"treatment-visits", title: "Visit scheduled for day 7", content:"&nbsp;",id:"227"},
    {start: new Date(2025, 0, 17), end: new Date(2025, 0, 17, 23, 59, 59), group:"V2", className:"window", title: "Visit is allow up to one day after", content:"&nbsp;",id:"228"},

    {start: new Date(2025, 0, 29), end: new Date(2025, 0, 29, 23, 59, 59), group:"V2", className:"window", title: "Visit can start 1 day before", content:"&nbsp;",id:"229"},
    {start: new Date(2025, 0, 30), end: new Date(2025, 0, 30, 23, 59, 59), group:"V2", className:"treatment-visits", title: "Visit scheduled for day 7", content:"&nbsp;",id:"230"},
    {start: new Date(2025, 0, 31), end: new Date(2025, 0, 31, 23, 59, 59), group:"V2", className:"window", title: "Visit is allow up to one day after", content:"&nbsp;",id:"231"},

    {start: new Date(2025, 1, 12), end: new Date(2025, 1, 12, 23, 59, 59), group:"V2", className:"window", title: "Visit can start 1 day before", content:"&nbsp;",id:"232"},
    {start: new Date(2025, 1, 13), end: new Date(2025, 1, 13, 23, 59, 59), group:"V2", className:"treatment-visits", title: "Visit scheduled for day 7", content:"&nbsp;",id:"233"},
    {start: new Date(2025, 1, 14), end: new Date(2025, 1, 14, 23, 59, 59), group:"V2", className:"window", title: "Visit is allow up to one day after", content:"&nbsp;",id:"234"},


    {start: new Date(2024, 10, 12), end: new Date(2024, 10, 13, 23, 59, 59), group:"V3", className:"window", title: "Visit can start 2 day before", content:"&nbsp;",id:"311"},
    {start: new Date(2024, 10, 14), end: new Date(2024, 10, 14, 23, 59, 59), group:"V3", className:"treatment-visits", title: "Visit scheduled for day 14", content:"&nbsp",id:"312"},
    {start: new Date(2024, 10, 15), end: new Date(2024, 10, 16, 23, 59, 59), group:"V3", className:"window", title: "Visit is allow up to 2 days after", content:"&nbsp;",id:"313"},

    {start: new Date(2024, 10, 21), end: new Date(2024, 10, 21, 23, 59, 59), group:"V3", className:"window", title: "Visit can start 2 day before", content:"&nbsp;",id:"314"},
    {start: new Date(2024, 10, 22), end: new Date(2024, 10, 22, 23, 59, 59), group:"V3", className:"treatment-visits", title: "Visit scheduled for day 14", content:"&nbsp",id:"315"},
    {start: new Date(2024, 10, 23), end: new Date(2024, 10, 23, 23, 59, 59), group:"V3", className:"window", title: "Visit is allow up to 2 days after", content:"&nbsp;",id:"316"},

    {start: new Date(2024, 10, 19), end: new Date(2024, 10, 20, 23, 59, 59), group:"V4", className:"window", title: "Visit can start 3 day before", content:"&nbsp;",id:"411"},
    {start: new Date(2024, 10, 21), end: new Date(2024, 10, 21, 23, 59, 59), group:"V4", className:"treatment-visits", title: "Visit scheduled for day 21", content:"&nbsp",id:"412"},
    {start: new Date(2024, 10, 22), end: new Date(2024, 10, 23, 23, 59, 59), group:"V4", className:"window", title: "Visit is allow up to 3 days after", content:"&nbsp;",id:"413"},

    {start: new Date(2024, 10, 27), end: new Date(2024, 10, 27, 23, 59, 59), group:"V5", className:"window", title: "Visit can start 1 day before", content:"&nbsp;",id:"511"},
    {start: new Date(2024, 10, 28), end: new Date(2024, 10, 28, 23, 59, 59), group:"V5", className:"treatment-visits", title: "Visit scheduled for day 28", content:"&nbsp",id:"512"},
    {start: new Date(2024, 10, 29), end: new Date(2024, 10, 29, 23, 59, 59), group:"V5", className:"window", title: "Visit is allow up to one day after", content:"&nbsp;",id:"513"},

    {start: new Date(2025, 1, 25), end: new Date(2025, 1, 26, 23, 59, 59), group:"V6", className:"window", title: "Visit can start 1 day before", content:"&nbsp;",id:"514"},
    {start: new Date(2025, 1, 27), end: new Date(2025, 1, 27, 23, 59, 59), group:"V6", className:"treatment-visits", title: "Visit scheduled for day 28", content:"&nbsp",id:"515"},
    {start: new Date(2025, 1, 28), end: new Date(2025, 2, 1, 23, 59, 59), group:"V6", className:"window", title: "Visit is allow up to one day after", content:"&nbsp;",id:"516"},

    {start: new Date(2024, 10, 1), end: new Date(2024, 10, 1, 23, 59, 59), group:"Patient", className:"actual", title: "Patient Visit Occurred", content:"&nbsp",id:"8001"},
    {start: new Date(2024, 10, 8), end: new Date(2024, 10, 8, 23, 59, 59), group:"Patient", className:"actual-in-window", title: "Patient Visit Occurred", content:"&nbsp;",id:"8002"},
    {start: new Date(2024, 10, 14), end: new Date(2024, 10, 17, 23, 59, 59), group:"Patient", className:"patient", title: "Days when the Patient is Unavailable", content:"&nbsp;",id:"800"},
    {start: new Date(2024, 11, 19), end: new Date(2025, 0, 2, 23, 59, 59), group:"Patient", className:"patient", title: "Days when the Patient is Unavailable", content:"&nbsp;",id:"801"},
    {start: new Date(2025, 0, 30), end: new Date(2025, 0, 30, 23, 59, 59), group:"Patient", className:"patient", title: "Days when the Patient is Unavailable", content:"&nbsp;",id:"802"},
    {start: new Date(2025, 1, 20), end: new Date(2025, 1, 25, 23, 59, 59), group:"Patient", className:"patient", title: "Days when the Patient is Unavailable", content:"&nbsp;",id:"803"},

    {start: new Date(2024, 10, 7), end: new Date(2024, 10, 7, 23, 59, 59), group:"Staff", className:"staff", title: "Number of staff available on this day", content:" 3",id:"700"},
    {start: new Date(2024, 11, 15), end: new Date(2024, 11, 21, 23, 59, 59), group:"Staff", className:"staff", title: "Number of staff available on this day", content:" 2",id:"701"},
    {start: new Date(2024, 11, 22), end: new Date(2025, 0, 2, 23, 59, 59), group:"Staff", className:"staff", title: "Number of staff available on this day", content:" 1",id:"702"},
    {start: new Date(2025, 1, 1), end: new Date(2025, 1, 15, 23, 59, 59), group:"Staff", className:"staff", title: "Number of staff available on this day", content:" 3",id:"703"},

  ])

 
  // create visualization
  var container = document.getElementById('visualization');
  var options = {
    format: {
        minorLabels: {
            millisecond:'',
            second:     '',
            minute:     '',
            hour:       '',
            weekday:    '',
            day:        'D',
            week:       '',
            month:      'MM',
            year:       'YYYY'
        },
        majorLabels: {
            millisecond:'HH:mm:ss',
            second:     'D MMMM HH:mm',
            minute:     'ddd D MMMM',
            hour:       'ddd D MMMM',
            weekday:    'MMMM YYYY',
            day:        'MMMM YYYY',
            week:       'MMMM YYYY',
            month:      'YYYY',
            year:       ''
        }
    },
    timeAxis: {scale: 'day', step: 1},
    showMajorLabels: true,
    orientation: 'both',
    start: new Date(2024, 10, 1),
    end: new Date(2025, 1, 30, 23, 59, 59),
    min: new Date(2024, 10, 1),
    max: new Date(2025, 1, 30, 23, 59, 59),
    margin: {
        item: {
            horizontal: 0,
        },
    },
  };

  var timeline = new vis.Timeline(container);
  timeline.setOptions(options);
  timeline.setGroups(groups);
  timeline.setItems(items);

</script>
  <div>
    <br>
    <p>
      Viewing the timeline:
    </p>
    <ul>
      <li>Use mouse scroll wheel or touchpad to zoom in/out of the timeline. </li>
      <li>When zoomed in, hold mouse pointer down and drag to move forward or backward through the timeline.</li>
    </ul>
    <p>
      The meaning of the rows:
    </p>
    <ul>
      <li><b>Screen, V#</b> - Names of Events/Visits:</li>
      <ul>
        <li><b>Gray</b> - The window before and after an Event/Visit.</li>
        <li><b>Purple</b> - The scheduled time of an Event/Visit.</li>
      </ul>
      <li><b>Patient</b> - Things about the patient availability and actual events: </li>
      <ul>
        <li><b>Red</b> -  A date the patient is unavailable.</li>
        <li><b>Black</b> -  A date the patient visit occurred on the scheduled date.</li>
        <li><b>Black & White Stripes</b> -  A date the patient visit occurred in the scheduled window.</li>
      </ul>
        <li><b>Staff(#)</b> - '(#)' is the total amount of staff available for the study.  The number in the box is the staff on that date. The full staff is available on any date without a box with a number.</li>
    </ul>
  </div>
</body>
</html>
